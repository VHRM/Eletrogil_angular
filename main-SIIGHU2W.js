import{a as s}from"./chunk-Y66QAT7S.js";import{o as z}from"./chunk-IWOFXYYC.js";import{$b as H,Ga as w,Ha as x,La as S,Lb as E,Ma as f,Na as k,Oa as i,R as n,Rb as R,Tb as O,Wb as D,Xb as N,_ as b,aa as y,ac as T,bc as L,cc as j,dc as F,ec as a,f as h,kb as _,ma as d,mb as M,n as g,qa as A,qb as P,ta as p,vb as I,x as C}from"./chunk-CGPWRDUS.js";var B=[{path:"",redirectTo:e=>n(a).hasToken()?"/home":"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-QULIO3OY.js").then(e=>e.LoginPage)},{path:"home",loadComponent:()=>import("./chunk-43CBCD4Z.js").then(e=>e.ListPage),runGuardsAndResolvers:"always"},{path:"form",loadComponent:()=>import("./chunk-GJU6DAMB.js").then(e=>e.DetailsPage)},{path:"form/:id",loadComponent:()=>import("./chunk-GJU6DAMB.js").then(e=>e.DetailsPage)},{path:"print/:id",loadComponent:()=>import("./chunk-OCWNZRAN.js").then(e=>e.PrintPage)}];var G=(e,o)=>{let t=n(a);return o(e).pipe(C(r=>r.status===401?(console.warn("Token expirou. Solicitando novo..."),new h(l=>{window.google.accounts.oauth2.initTokenClient({client_id:s.client_id,scope:"openid profile email https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive",callback:v=>{t.setToken(v.access_token);let V=e.clone({setHeaders:{Authorization:`Bearer ${v.access_token}`}});o(V).subscribe({next:u=>l.next(u),error:u=>l.error(u),complete:()=>l.complete()})}}).requestAccessToken({prompt:"consent"})})):g(()=>r)))};var U={providers:[b(),I({eventCoalescing:!0}),j(B),z(),D(N([G])),{provide:E,useValue:s.production?"/Eletrogil_angular/":"/"}]};var q=()=>["/home"],c=class e{constructor(o){this.authService=o}user=y("");ngOnInit(){this.user.set(this.authService.getUser())}static \u0275fac=function(t){return new(t||e)(A(a))};static \u0275cmp=p({type:e,selectors:[["app-navbar"]],decls:6,vars:3,consts:[[1,"navbar"],["src","images/logo-black-transparent.png","alt","Logo",2,"cursor","pointer",3,"routerLink"],[1,"user-data"],[1,"spacer"]],template:function(t,r){t&1&&(f(0,"div",0),i(1,"img",1),f(2,"div",2)(3,"span"),_(4),k()()(),i(5,"div",3)),t&2&&(d(),S("routerLink",P(2,q)),d(3),M("Ol\xE1, ",r.user()))},dependencies:[F,L],styles:[".navbar[_ngcontent-%COMP%]{width:100%;position:fixed;height:96px;background:var(--mat-sys-secondary);color:var(--mat-sys-on-secondary);display:flex;align-items:center;justify-content:space-between;padding:0 12px;box-sizing:border-box;z-index:3}.navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.spacer[_ngcontent-%COMP%]{height:96px;margin-bottom:16px}"]})};function J(e,o){e&1&&i(0,"app-navbar")}var m=class e{route=n(T);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-root"]],decls:2,vars:1,template:function(t,r){t&1&&(w(0,J,1,0,"app-navbar"),i(1,"router-outlet")),t&2&&x(!r.route.url.includes("/login")&&!r.route.url.includes("/print")?0:-1)},dependencies:[H,c,R],encapsulation:2})};O(m,U).catch(e=>console.error(e));

import{a as j}from"./chunk-73HHGVRQ.js";import{o as F}from"./chunk-DFX25S2J.js";import{$b as E,Ga as w,Ha as x,La as A,Ma as d,Na as k,Oa as i,Qb as _,R as n,Sb as O,Vb as R,Wb as D,_ as C,_b as N,aa as b,ac as T,bc as H,cc as L,dc as a,f as h,kb as S,ma as u,mb as M,n as v,qa as y,qb as I,ta as p,vb as P,x as g}from"./chunk-25W2ZKBC.js";var z=[{path:"",redirectTo:e=>n(a).hasToken()?"/home":"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-6FQFYZ2F.js").then(e=>e.LoginPage)},{path:"home",loadComponent:()=>import("./chunk-GMPGWFAN.js").then(e=>e.ListPage),runGuardsAndResolvers:"always"},{path:"form",loadComponent:()=>import("./chunk-7IPTJO7T.js").then(e=>e.DetailsPage)},{path:"form/:id",loadComponent:()=>import("./chunk-7IPTJO7T.js").then(e=>e.DetailsPage)},{path:"print/:id",loadComponent:()=>import("./chunk-O5CUSGXT.js").then(e=>e.PrintPage)}];var B=(e,o)=>{let t=n(a);return o(e).pipe(g(r=>r.status===401?(console.warn("Token expirou. Solicitando novo..."),new h(m=>{window.google.accounts.oauth2.initTokenClient({client_id:j.client_id,scope:"openid profile email https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive",callback:f=>{t.setToken(f.access_token);let U=e.clone({setHeaders:{Authorization:`Bearer ${f.access_token}`}});o(U).subscribe({next:l=>m.next(l),error:l=>m.error(l),complete:()=>m.complete()})}}).requestAccessToken({prompt:"consent"})})):v(()=>r)))};var G={providers:[C(),P({eventCoalescing:!0}),H(z),F(),R(D([B]))]};var q=()=>["/home"],s=class e{constructor(o){this.authService=o}user=b("");ngOnInit(){this.user.set(this.authService.getUser())}static \u0275fac=function(t){return new(t||e)(y(a))};static \u0275cmp=p({type:e,selectors:[["app-navbar"]],decls:6,vars:3,consts:[[1,"navbar"],["src","images/logo-black-transparent.png","alt","Logo",2,"cursor","pointer",3,"routerLink"],[1,"user-data"],[1,"spacer"]],template:function(t,r){t&1&&(d(0,"div",0),i(1,"img",1),d(2,"div",2)(3,"span"),S(4),k()()(),i(5,"div",3)),t&2&&(u(),A("routerLink",I(2,q)),u(3),M("Ol\xE1, ",r.user()))},dependencies:[L,T],styles:[".navbar[_ngcontent-%COMP%]{width:100%;position:fixed;height:96px;background:var(--mat-sys-secondary);color:var(--mat-sys-on-secondary);display:flex;align-items:center;justify-content:space-between;padding:0 12px;box-sizing:border-box;z-index:3}.navbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.spacer[_ngcontent-%COMP%]{height:96px;margin-bottom:16px}"]})};function J(e,o){e&1&&i(0,"app-navbar")}var c=class e{route=n(E);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=p({type:e,selectors:[["app-root"]],decls:2,vars:1,template:function(t,r){t&1&&(w(0,J,1,0,"app-navbar"),i(1,"router-outlet")),t&2&&x(!r.route.url.includes("/login")&&!r.route.url.includes("/print")?0:-1)},dependencies:[N,s,_],encapsulation:2})};O(c,G).catch(e=>console.error(e));
